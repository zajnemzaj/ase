<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Arrows OOJS v0.0.0.0.3</title>
    <link rel="stylesheet" href="css/accordion.css">
    <link rel="stylesheet" href="css/ase-bulma.css">
</head>

<body>
    <div class="container">
        <div class="tab">
            <input class="tab-input" id="tab-one" type="checkbox" name="tabs">
            <label class="tab-label" for="tab-one">Usage Help</label>
            <div class="tab-content">
                <p>
                    - Please enter the average scores of the archers (their names are optional but useful as it is printed on the targetfaces).<br> - You can download the PDF right after the scroes are entered or you can finetune the diameters by hand
                    if desired.<br> - The generated PDF will contain targetfaces optimized for each archer to shoot equal scores.<br> - Take care when printing to use the sizes from PDF file without rescaling it (LibreOffice Draw can print it correctly
                    if you click on File -> Print... -> LibreOffice Draw -> Size -> Original size).<br> - The lowest scorer always shoots to the official 20 cm radius targetface used in World Archery 18m indoor competitions.
                </p>
            </div>
        </div>

        <div class="field is-horizontal has-addons has-addons-centered">
            <div class="field-body">
                <div class="control">
                    <input class="input" type="text" id="inputArcherName1" placeholder="Archer's Name">
                </div>
                <div class="columns is-mobile is-variable is-1">
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputScore1" placeholder="Score" value="245">
                    </div>
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputAvgScore1" placeholder="Avg. radius" disabled>
                    </div>
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputSugScore1" placeholder="Sug. radius" disabled>
                    </div>
                    <div class="control column">
                        <a class="button" id="buttonAddNewArcher" onclick="">Add new archer</a>
                    </div>
                </div>
            </div>
        </div>

        <div id="idArcher2" class="field is-horizontal has-addons has-addons-centered">
            <div class="field-body">
                <div class="control">
                    <input class="input" type="text" id="inputArcherName2" placeholder="Archer's Name">
                </div>
                <div class="columns is-mobile is-variable is-1">
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputScore2" placeholder="Score" value="285">
                    </div>
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputAvgScore2" placeholder="Avg. radius" disabled>
                    </div>
                    <div class="control column">
                        <input class="input input-narrow" type="text" id="inputSugScore2" placeholder="Sug. radius" disabled>
                    </div>
                    <div class="control column">
                        <a class="button remove" id="buttonRemoveArcher2" onclick="">Remove archer</a>
                    </div>
                </div>
            </div>
        </div>

        <div class="archerPlaceholder"></div>

        <div class="field is-horizontal has-addons">
            <div class="field-label is-normal">
                <label class="label" for="inputGrouping">Average radius of grouping for high-scorer on 40cm targetface (mm):</label>
            </div>
            <div class="field-body">
                <div class="control">
                    <input class="input" type="text" id="inputGrouping" value="">
                </div>
                <div class="control">
                    <a class="button is-link" id="buttonGetGrouping" onclick="targetFace.getRoundDiamAverages()">Find grouping sizes</a>
                </div>
            </div>
        </div>

        <div class="field is-horizontal has-addons">
            <div class="field-label is-normal">
                <label class="label" for="inputFinalRadius">Suggested radius of targetface to download for high score archer (mm):</label>
            </div>
            <div class="field-body">
                <div class="control">
                    <input class="input" type="text" id="inputFinalRadius" value="">
                </div>
                <div class="control">
                    <a class="button is-link" id="buttonGetTargetSize" onclick="targetFace.getTargetSize()">Calculate target sizes</a>
                </div>
            </div>
        </div>

        <div class="field is-horizontal has-addons">
            <div class="field-label is-normal">
                <label class="label" for="inputFileName">File name:</label>
            </div>
            <div class="field-body">
                <div class="control">
                    <input class="input" type="text" id="inputFileName" value="targetface.pdf">
                </div>
                <div class="control">
                    <a class="button is-success" id="buttonSavePdf" onclick="">Save PDF</a>
                </div>
            </div>
        </div>

        <canvas id="canvas1rstTargetFace" width="400" height="400" style="border:1px solid #d3d3d3;">
      Your browser does not support the canvas element.
    </canvas>
        <canvas id="canvas1rstStats" width="400" height="300" style="border:1px solid #d3d3d3;">
      Your browser does not support the canvas element.
    </canvas>
        <div id="tmpOutput"></div>
        <script src="js/ase-pure.js"></script>
    </div>
    
    <script>
        var id = 2;
        $('#buttonAddNewArcher').on('click', function() {
            id++;
            var instertedArcher =
                `
                <div id="idArcher${id}" class="field is-horizontal has-addons has-addons-centered">
                    <!-- <div class="field-label is-normal">
                    <label class="label" for="inputHighScore">Highest score:</label>
                    </div> -->
                    <div class="field-body">
                        <div class="control">
                            <input class="input" type="text" id="inputArcherName${id}" placeholder="Archer's Name">
                        </div>
                        <div class="columns is-mobile is-variable is-1">
                            <div class="control column">
                                <input class="input input-narrow" type="text" id="inputScore${id}" placeholder="Score" value="">
                            </div>
                            <div class="control column">
                                <input class="input input-narrow" type="text" id="inputAvgScore${id}" placeholder="Avg. radius" disabled>
                            </div>
                            <div class="control column">
                                <input class="input input-narrow" type="text" id="inputSugScore${id}" placeholder="Sug. radius" disabled>
                            </div>
                            <div class="control column">
                                <a class="button remove" id="buttonRemoveArcher${id}" onclick="">Remove archer</a>
                            </div>
                        </div>
                    </div>
                </div>
                `;
            $('div.archerPlaceholder').append(instertedArcher);
        });
        $("body").on("click", ".remove", function () {
            $(this).closest(".field").remove();
        });
    </script>
</body>

</html>
